<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Plans &amp; Billing</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="dashboard.css" />
  </head>
  <body>
    <div class="dashboard business-dashboard">
      <aside class="sidebar sidebar--business" aria-label="Workspace navigation">
        <div class="company-summary">
          <div class="company-avatar" aria-hidden="true">LB</div>
          <h1>LegacyBridge</h1>
          <p class="company-plan" data-i18n-key="billing_sidebar_plan_details">Enterprise Shield · 62 seats</p>
          <p class="company-renewal" data-i18n-key="billing_sidebar_renewal_in">Renewal in 120 days</p>
        </div>
        <nav class="menu menu--business" aria-label="Primary">
          <p class="menu-label" data-i18n-key="billing_sidebar_workspace">Workspace</p>
          <a href="business-dashboard.html" data-i18n-key="menu_overview">Overview</a>
          <a href="business-profile.html" data-i18n-key="business_profile_title">Business Profile</a>
          <a href="#" data-i18n-key="billing_sidebar_team_access">Team Access</a>
          <a href="#" data-i18n-key="billing_sidebar_verification">Verification</a>
          <a href="business-plans-billing.html" class="active" data-i18n-key="billing_sidebar_billing">Plans &amp; Billing</a>
          <a href="#" data-i18n-key="menu_support">Support</a>
        </nav>
        <div class="sidebar-bottom sidebar-bottom--business">
          <div class="support-card">
            <p data-i18n-key="billing_sidebar_support_prompt">Need a hand with onboarding?</p>
            <button class="business-button business-button--ghost" type="button" data-i18n-key="billing_sidebar_contact_support">
              Contact Support
            </button>
          </div>
          <button class="logout logout--business" type="button" data-i18n-key="billing_sidebar_sign_out">Sign Out</button>
        </div>
      </aside>

      <main class="business-main business-main--billing">
        <div class="breadcrumb" data-i18n-key="billing_breadcrumb">Dashboard • Plans &amp; Billing</div>
        <header class="business-header">
          <div>
            <h2 class="business-eyebrow" data-i18n-key="billing_eyebrow">Company Plans &amp; Billing</h2>
            <h1 data-i18n-key="billing_title">Plans &amp; Billing</h1>
            <p class="business-subtitle" data-i18n-key="billing_subtitle">
              Review active coverage, manage payment preferences, and download invoices for
              compliance records in one place.
            </p>
            <div class="business-header__meta">
              <span class="business-badge" data-i18n-key="coverage_renewed">Coverage renewed Apr 18, 2025</span>
              <span class="business-badge business-badge--success" data-autopay-pill data-i18n-key="billing_autopay_enabled">
                Autopay Enabled
              </span>
            </div>
          </div>
          <div class="business-header__actions">
            <button
              class="business-button business-button--primary"
              type="button"
              data-open-forms="edit"
              data-i18n-key="button_update_payment_method"
            >
              Update payment method
            </button>
            <button class="business-button business-button--ghost" type="button" data-i18n-key="button_download_csv">Download invoice CSV</button>
          </div>
        </header>

        <div
          id="billingFeedback"
          class="page-feedback page-feedback--success"
          role="status"
          aria-live="polite"
          hidden
        ></div>

        <section id="billingOverview" class="billing-overview">
          <div class="billing-grid">
            <article class="business-card billing-card billing-card--plan">
              <div class="business-card__header">
                <div>
                  <h3 data-i18n-key="billing_plan_overview_title">Plan Overview</h3>
                  <p data-i18n-key="billing_plan_overview_subtitle">Snapshot of your company coverage and renewal cadence.</p>
                </div>
                <span class="status-pill status-pill--success" data-plan-status data-i18n-key="option_active">Active</span>
              </div>
              <dl class="info-grid">
                <div class="info-item">
                  <dt data-i18n-key="billing_plan_name">Plan name</dt>
                  <dd data-plan-name>Enterprise Shield</dd>
                </div>
                <div class="info-item">
                  <dt data-i18n-key="form_employees_covered">Employees covered</dt>
                  <dd data-plan-employees>62 active · 4 pending invites</dd>
                </div>
                <div class="info-item">
                  <dt data-i18n-key="billing_annual_coverage">Annual coverage</dt>
                  <dd data-plan-coverage data-i18n-key="billing_annual_coverage_detail">$250,000 across medical &amp; wellness</dd>
                </div>
                <div class="info-item">
                  <dt data-i18n-key="billing_next_renewal">Next renewal</dt>
                  <dd data-plan-renewal data-i18n-key="billing_next_renewal_detail">Apr 18, 2026 · Auto-renew</dd>
                </div>
              </dl>
              <div class="billing-plan__actions">
                <button class="business-button business-button--ghost" type="button" data-i18n-key="button_view_plan_docs">View plan documents</button>
                <button class="business-button business-button--ghost" type="button" data-i18n-key="button_share_coverage">Share coverage summary</button>
              </div>
            </article>

            <article class="business-card billing-card billing-card--payment" id="billingSummaryCard">
              <div class="business-card__header">
                <div>
                  <h3 data-i18n-key="billing_details_title">Billing Details</h3>
                  <p data-i18n-key="billing_details_subtitle">Primary payment method, billing cadence, and autopay settings.</p>
                </div>
                <button class="business-button business-button--ghost" type="button" data-open-forms="edit" data-i18n-key="button_manage">
                  Manage
                </button>
              </div>
              <div class="billing-summary">
                <div class="billing-summary__method">
                  <h4 data-i18n-key="billing_primary_method">Primary payment method</h4>
                  <p class="billing-summary__value" data-summary-method>Corporate Visa •••• 4321</p>
                  <p class="billing-summary__meta" data-summary-meta>LegacyBridge Benefits · Exp 11/27</p>
                </div>
                <div class="billing-summary__meta">
                  <p><strong data-i18n-key="billing_next_invoice">Next invoice:</strong> <span data-summary-next>May 15, 2025 · $4,820.00</span></p>
                  <p><strong data-i18n-key="billing_address_label">Billing address:</strong> <span data-summary-address>4100 Market Street, Suite 1200 · Denver, CO 80205</span></p>
                  <div class="billing-autopay">
                    <span class="business-badge business-badge--success" data-autopay-pill data-i18n-key="billing_autopay_enabled">Autopay Enabled</span>
                    <button class="business-button business-button--ghost" type="button" data-toggle-autopay data-i18n-key="button_pause_autopay">
                      Pause autopay
                    </button>
                  </div>
                </div>
              </div>
              <div class="billing-summary__actions">
                <button class="business-button business-button--primary" type="button" data-open-forms="edit" data-i18n-key="button_update_payment_method">
                  Update payment method
                </button>
                <button class="business-button business-button--ghost" type="button" data-open-forms="add" data-i18n-key="button_add_backup_method">
                  Add backup method
                </button>
              </div>
            </article>

            <article class="business-card billing-card billing-card--contacts">
              <div class="business-card__header">
                <div>
                  <h3 data-i18n-key="billing_contacts_title">Billing Contacts</h3>
                  <p data-i18n-key="billing_contacts_subtitle">People copied on invoices, reminders, and renewal notices.</p>
                </div>
                <button class="business-button business-button--ghost" type="button" data-i18n-key="button_manage_contacts">Manage contacts</button>
              </div>
              <ul class="billing-contact-list" aria-label="Billing contacts">
                <li class="billing-contact">
                  <div>
                    <h4>Ana Velásquez</h4>
                    <p>Finance Lead · ana.velasquez@legacybridge.co</p>
                  </div>
                  <span class="business-badge" data-i18n-key="billing_contact_primary">Primary</span>
                </li>
                <li class="billing-contact">
                  <div>
                    <h4>Jordan Patel</h4>
                    <p>Controller · jordan.patel@legacybridge.co</p>
                  </div>
                  <span class="business-badge business-badge--muted" data-i18n-key="billing_contact_cc">CC</span>
                </li>
                <li class="billing-contact">
                  <div>
                    <h4>Samira Rhodes</h4>
                    <p>HR Operations · samira.rhodes@legacybridge.co</p>
                  </div>
                  <span class="business-badge business-badge--muted" data-i18n-key="billing_contact_cc">CC</span>
                </li>
              </ul>
              <p class="business-card__footnote" data-i18n-key="billing_contacts_footnote">
                Keep at least one billing contact updated to ensure renewal reminders are never missed.
              </p>
            </article>
          </div>

          <section class="business-card billing-history" aria-labelledby="billing-history-heading">
            <div class="billing-history__header">
              <div>
                <h3 id="billing-history-heading" data-i18n-key="billing_history_title">Billing History</h3>
                <p data-i18n-key="billing_history_subtitle">Track recent invoices, payment status, and download receipts.</p>
              </div>
              <label class="billing-history__search" for="billingHistorySearch">
                <span class="sr-only" data-i18n-key="billing_search_invoices">Search invoices</span>
                <input type="search" id="billingHistorySearch" data-i18n-key="billing_search_invoices" placeholder="Search invoices" />
              </label>
            </div>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th scope="col" data-i18n-key="table_header_date">Date</th>
                    <th scope="col" data-i18n-key="table_header_invoice">Invoice</th>
                    <th scope="col" data-i18n-key="table_header_amount">Amount</th>
                    <th scope="col" data-i18n-key="table_header_status">Status</th>
                    <th scope="col" data-i18n-key="table_header_receipt">Receipt</th>
                  </tr>
                </thead>
                <tbody id="billingHistoryBody"></tbody>
              </table>
            </div>
          </section>
        </section>

        <section class="billing-forms" id="billingForms" hidden aria-label="Manage payment methods">
          <div class="billing-forms__intro">
            <h2 data-i18n-key="billing_forms_title">Manage Payment Methods</h2>
            <p data-i18n-key="billing_forms_subtitle">
              Update the active card on file or add a backup method for manual payments. Changes apply to
              all future invoices.
            </p>
          </div>
          <div class="billing-forms__grid">
            <form class="billing-form business-form business-card" id="editBillingForm" data-form="edit">
              <div class="business-card__header">
                <div>
                  <h3 data-i18n-key="billing_edit_primary_title">Edit primary payment method</h3>
                  <p data-i18n-key="billing_edit_primary_subtitle">Adjust billing details that appear on monthly invoices.</p>
                </div>
              </div>
              <div class="form-grid">
                <label class="form-field">
                  <span data-i18n-key="payments_form_method_name">Payment method name</span>
                  <input type="text" name="method" id="editMethod" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="payments_form_cardholder_name">Cardholder or account name</span>
                  <input type="text" name="cardholder" id="editCardholder" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="payments_form_card_number">Card number</span>
                  <input type="text" name="cardNumber" id="editCard" inputmode="numeric" autocomplete="cc-number" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="payments_form_expiry_date">Expiration (MM/YY)</span>
                  <input type="text" name="expiry" id="editExpiry" placeholder="MM/YY" autocomplete="cc-exp" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="payments_form_autopay_status">Autopay status</span>
                  <select name="autopay" id="editAutopay">
                    <option value="enabled" data-i18n-key="billing_autopay_enabled">Enabled</option>
                    <option value="paused" data-i18n-key="option_paused">Paused</option>
                  </select>
                </label>
                <label class="form-field">
                  <span data-i18n-key="payments_form_next_payment_date">Next invoice date</span>
                  <input type="date" name="nextPayment" id="editNextPayment" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="billing_form_invoice_amount">Invoice amount</span>
                  <input type="number" name="invoiceAmount" id="editAmount" min="0" step="0.01" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="payments_form_billing_address">Billing address</span>
                  <input type="text" name="billingAddress" id="editAddress" required />
                </label>
              </div>
              <div class="billing-form__actions">
                <button class="business-button business-button--ghost" type="button" data-close-forms data-i18n-key="button_cancel">Cancel</button>
                <button class="business-button business-button--primary" type="submit" data-i18n-key="button_save_changes">Save changes</button>
              </div>
            </form>

            <form class="billing-form business-form business-card" id="addBillingForm" data-form="add">
              <div class="business-card__header">
                <div>
                  <h3 data-i18n-key="billing_add_backup_title">Add backup payment method</h3>
                  <p data-i18n-key="billing_add_backup_subtitle">Store an additional method for manual or emergency payments.</p>
                </div>
              </div>
              <div class="form-grid">
                <label class="form-field">
                  <span data-i18n-key="payments_form_method_name">Payment method name</span>
                  <input type="text" name="method" id="addMethod" placeholder="Corporate Amex, ACH" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="billing_form_account_owner">Account owner</span>
                  <input type="text" name="cardholder" id="addCardholder" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="billing_form_account_number">Account number</span>
                  <input type="text" name="cardNumber" id="addAccountNumber" inputmode="numeric" required />
                </label>
                <label class="form-field">
                  <span data-i18n-key="billing_form_expiry_routing">Expiration or routing</span>
                  <input type="text" name="expiry" id="addExpiry" placeholder="MM/YY or Routing" />
                </label>
                <label class="form-field">
                  <span data-i18n-key="billing_form_preferred_usage">Preferred usage</span>
                  <select name="preferredUsage" id="addUsage">
                    <option value="backup" data-i18n-key="option_backup">Backup - only if primary fails</option>
                    <option value="manual" data-i18n-key="option_manual">Manual one-time payments</option>
                    <option value="split" data-i18n-key="option_split">Split invoices with primary</option>
                  </select>
                </label>
                <label class="form-field">
                  <span data-i18n-key="billing_form_contact_email">Billing contact email</span>
                  <input type="email" name="billingEmail" id="addEmail" placeholder="billing@legacybridge.co" />
                </label>
                <label class="form-field form-field--full">
                  <span data-i18n-key="form_internal_notes">Notes</span>
                  <textarea name="notes" id="addNotes" rows="4" data-i18n-key="form_internal_notes_placeholder" placeholder="Add internal instructions or handoff details"></textarea>
                </label>
              </div>
              <div class="billing-form__actions">
                <button class="business-button business-button--ghost" type="button" data-close-forms data-i18n-key="button_cancel">Cancel</button>
                <button class="business-button business-button--primary" type="submit" data-i18n-key="payments_add_method_button">Add payment method</button>
              </div>
            </form>
          </div>
        </section>
      </main>
    </div>
    <script src="i18n.js"></script>
    <script src="app.js"></script>
    <script src="business-billing.js"></script>
  </body>
</html>